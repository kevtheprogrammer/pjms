{% extends 'mngmnt/starter.html' %}
{% load crispy_forms_tags %}

{% block title %}
Stock{% endblock %}

{% block body %}<div class="card">
    <div class="card-body">
      <a  data-bs-toggle="modal" data-bs-target="#exampleModal3" class="btn btn-outline-primary float-end">Create New Stock</a>
      <h5 class="card-title fw-semibold mb-4">Stock</h5>
      <p class="mb-3">Product in Stock </p>

      <!-- Modal -->
      <div class="modal fade" id="exampleModal3" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Add Product Stock</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <form action="/dash/stock/" method="post" enctype="multipart/form-data">
                {% csrf_token %}
                {{add_stock_form| crispy }}
                <div class="my-3 text-end">
                  <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                  <button type="submit" class="btn btn-primary" >Save changes</button>
                </div>
              </form>
            </div>
            <div class="modal-footer">
            </div>
          </div>
        </div>
      </div>

      <div class="card w-100">
        <div class="card-body p-4">
          <h5 class="card-title fw-semibold mb-4">Stock Model</h5>
          <div class="table-responsive">
            <table class="table text-nowrap mb-0 align-middle">
              <thead class="text-dark fs-4">
                <tr>
                  <th class="border-bottom-0">
                    <h6 class="fw-semibold mb-0">Id</h6>
                  </th>
                  <th class="border-bottom-0">
                    <h6 class="fw-semibold mb-0">prod</h6>
                  </th>
                  <th class="border-bottom-0">
                    <h6 class="fw-semibold mb-0">Available</h6>
                  </th>
                  <th class="border-bottom-0">
                    <h6 class="fw-semibold mb-0">timestamp</h6>
                  </th>
                  <th class="border-bottom-0">
                    <h6 class="fw-semibold mb-0">Action</h6>
                  </th>
                </tr>
              </thead>
              <tbody>
                {% for obj in object_list %}
                <tr>
                    <td class="border-bottom-0"><h6 class="fw-semibold mb-0">{{obj.id}}</h6></td>
                    <td class="border-bottom-0">
                        <h6 class="fw-semibold mb-1">{{obj.prod}}</h6>
                    </td>
                    <td class="border-bottom-0">
                        <h6 class="fw-semibold mb-1">{{obj.quantity}}</h6>
                    </td>
                    <td class="border-bottom-0">
                        <p class="mb-0 fw-normal">{{obj.timestamp}}</p>
                    </td>
                  
                    <td class="border-bottom-0">
                        <a href="{{obj.get_absolute_url}}" style="text-decoration: none;" class="btn btn-light" >
                            <h6 class="fw-semibold mb-0 fs-4">view</h6>
                        </a>
                    </td>
                </tr> 
         
            {% endfor %}
            
        </tbody>
            </table>
          </div>
        </div>
    </div>
    </div>
  </div>

{% endblock %}