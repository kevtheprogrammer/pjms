{% extends 'mngmnt/starter.html' %}

{% block title %}
Orders{% endblock %}

{% block body %}<div class="card">
    <div class="card-body">
      <h5 class="card-title fw-semibold mb-4">Order</h5>
      <p class="mb-3">Orders</p>

      <div class="card w-100">
        <div class="card-body p-4">
          <h5 class="card-title fw-semibold mb-4">Client Orders </h5>
          <div class="table-responsive">
            <table class="table text-nowrap mb-0 align-middle">
              <thead class="text-dark fs-4">
                <tr>
                  <th class="border-bottom-0">
                    <h6 class="fw-semibold mb-0">Id</h6>
                  </th>
                  <th class="border-bottom-0">
                    <h6 class="fw-semibold mb-0">Products</h6>
                  </th>
                  <th class="border-bottom-0">
                    <h6 class="fw-semibold mb-0">Status/customer</h6>
                  </th>
                  <th class="border-bottom-0">
                    <h6 class="fw-semibold mb-0">Paid/Date</h6>
                  </th>
                  <th class="border-bottom-0">
                    <h6 class="fw-semibold mb-0">Action</h6>
                  </th>
                </tr>
              </thead> 
              <tbody>
                {% for obj in object_list %}
                <tr>
                    <td class="border-bottom-0"><h6 class="fw-semibold mb-0">{{obj.id}}</h6></td>
                    <td class="border-bottom-0">
                      {% for i in obj.orderitems.all %}
                      <span class="fw-normal">{{i}}</span>   <br/>                       
                      {% endfor %}
                    </td>
                    <td class="border-bottom-0">
                      <span class="badge 
                      {% if obj.is_refunded %}bg-primary{% endif %}
                      {% if obj.is_cancelled %}bg-danger{% endif %}
                      {% if obj.is_not_shipped %}bg-warning{% endif %}
                      {% if obj.is_shipped %}bg-success{% endif %}
                      
                      rounded-3 fw-semibold">{{obj.status}} </span>
                      <p class="mb-0 fw-normal">{{obj.client}}</p>

                    </td>
                    <td class="border-bottom-0">
                      <div class="  gap-2">
                        <span  class="badge 
                        {% if obj.ordered %}bg-success 
                        {%  else %}bg-danger{% endif %}
                        
                        rounded-3 fw-semibold">{{obj.ordered}}</span>
                      <p>{{obj.updated}}</p>
                      </div>

                    </td>
                    <td class="border-bottom-0">
                      <a href="{{obj.view_order_url}}" class="btn btn-light">View</a>
                    </td>
                  </tr> 
            {% endfor %}
            
        </tbody>
            </table>
          </div>
        </div>
    </div>
    </div>
  </div>

{% endblock %}